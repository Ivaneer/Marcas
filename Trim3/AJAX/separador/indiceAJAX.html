<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>AJAX</title>
	<script>
	function cargarDesplegable() {
		var peticion=new XMLHttpRequest();
		var lista="";
		peticion.onreadystatechange=function(){
			if(peticion.readyState==4 && peticion.status==200){
				var respuesta=peticion.responseText;
				lista=respuesta.split(",");

				var obj_select=document.createElement("select");
				obj_select.setAttribute("onchange","CargarImagenes();");
		for(i=0; i<lista.length; i++){
			var obj_option=document.createElement("option");
			obj_option.innerHTML=lista[i];
			obj_option.value=i;
			obj_select.appendChild(obj_option);
		}
		document.getElementsByTagName("body")[0].appendChild(obj_select); 
			var aimage=document.createElement("img");
		document.getElementsByTagName("div")[0].appendChild(aimage); 


	  }
	}
	peticion.open("GET","archivo_ajax.txt");
	peticion.send();
}
function CargarImagenes(){
	var peticion=new XMLHttpRequest();
		var lista="";
		peticion.onreadystatechange=function(){
			if(peticion.readyState==4 && peticion.status==200){
				var respuesta=peticion.responseText;
				lista=respuesta.split(",");
			var valores= document.getElementsByTagName("select")[0].value
			var obj_select=document.createElement("div");
			var aimage=document.getElementsByTagName("img")[0];
		for(i=0; i<lista.length; i++){
			aimage.setAttribute("src",lista[valores]);
		}
	}
}
peticion.open("GET","images.txt");
	peticion.send();
}
	</script>
</head>
<body onload="cargarDesplegable()">
   <div id="contenido"></div>


</body>
</html>